<% if !@blog.url %>

  <%= form_with(url: new_blog_path, method: :get) do |form| %>
    <div>
      <%= form.label :url, "URL", style: "display: block" %>
      <%= form.text_field :url %>
    </div>

    <div>
      <%= form.submit "Buscar", name: nil %>
    </div>
  <% end %>

<% else %>

  <%= form_with(model: @blog) do |form| %>
    <% if blog.errors.any? %>
      <div style="color: red">
        <ul>
          <% blog.errors.each do |error| %>
            <li><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div>
      <%= form.label :url, style: "display: block" %>
      <%= form.text_field :url %>
    </div>

    <div>
      <%= form.label :title, style: "display: block" %>
      <%= form.text_field :title %>
    </div>

    <div>
      <%= form.label :description, style: "display: block" %>
      <%= form.textarea :description %>
    </div>

    <div>
      <%= form.label :feed_urls, style: "display: block" %>
      <ul>
        <%= form.collection_radio_buttons :feed_url, blog.feed_urls, :url, :title do |feed| %>
          <li>
            <%= feed.label do %>
              <%= feed.radio_button %>
              <%= feed.text %>
            <% end %>
          </li>
        <% end %>
      </ul>
    </div>

    <div>
      <%= form.submit name: nil %>
    </div>
  <% end %>

<% end %>
